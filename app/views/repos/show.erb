<%= partial :repo_header, locals: {repo: @repo} %>

<div class="settings row">
  <nav class="col-md-2 sidebar">
    <%= partial :repo_menu, locals: {repo: @repo} %>
  </nav>
  <div class="col-md-10">
    <h2>Behaviors</h2>

    <div class="search">
      <input type="search" placeholder="search behaviors..." class="search form-control" />
    </div>

    <h3>Enabled</h3>
    <ul class="behaviors enabled">
      <% behavior_ids = @repo.behaviors.pluck(:id) %>
      <% @repo.behaviors.each do |behavior| %>
        <%= partial :behavior, locals: {behavior: behavior, repo: @repo, enabled: true} %>
      <% end %>
    </ul>

    <h3>Disabled</h3>
    <ul class="behaviors disabled">
      <% @behaviors.each do |behavior| %>
        <% unless @repo.behaviors.include?(behavior) %>
        <%= partial :behavior, locals: {behavior: behavior, repo: @repo, enabled: false} %>
        <% end %>
      <% end %>
    </ul>
  </div>
</div>
